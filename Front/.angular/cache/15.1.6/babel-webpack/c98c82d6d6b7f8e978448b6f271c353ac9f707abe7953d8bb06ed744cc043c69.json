{"ast":null,"code":"import { environment } from '@environments/environment';\nimport { map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@app/_services\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nexport class HomeComponent {\n  constructor(accountService, http) {\n    this.accountService = accountService;\n    this.http = http;\n    this.user = this.accountService.userValue;\n  }\n  onGeneratePdf() {\n    return this.http.get(`${environment.apiUrl}/User/CreatePdf`).pipe(map(_ => {\n      let blob = _.body;\n      let url = window.URL.createObjectURL(blob);\n      window.open(url);\n    })).subscribe({\n      next: () => {},\n      error: error => {\n        // this.alertService.error(error);\n      }\n    });\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i2.HttpClient));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"ng-component\"]],\n  decls: 11,\n  vars: 1,\n  consts: [[1, \"p-4\"], [1, \"container\"], [\"routerLink\", \"/users\"], [1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\");\n      i0.ɵɵtext(5, \"You're logged in with Angular 15!!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"p\")(7, \"a\", 2);\n      i0.ɵɵtext(8, \"Manage Users\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_9_listener() {\n        return ctx.onGeneratePdf();\n      });\n      i0.ɵɵtext(10, \"Generate PDF\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Hi \", ctx.user == null ? null : ctx.user.FirstName, \"!\");\n    }\n  },\n  dependencies: [i3.RouterLink],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AAKA,SAASA,WAAW,QAAQ,2BAA2B;AACvD,SAASC,GAAG,QAAQ,MAAM;;;;;AAG1B,OAAM,MAAOC,aAAa;EAGtBC,YAAoBC,cAA8B,EACtCC,IAAgB;IADR,mBAAc,GAAdD,cAAc;IACtB,SAAI,GAAJC,IAAI;IACZ,IAAI,CAACC,IAAI,GAAG,IAAI,CAACF,cAAc,CAACG,SAAS;EAC7C;EAEAC,aAAa;IAET,OAAO,IAAI,CAACH,IAAI,CAACI,GAAG,CAAM,GAAGT,WAAW,CAACU,MAAM,iBAAiB,CAAC,CAChEC,IAAI,CAACV,GAAG,CAACW,CAAC,IAAG;MACT,IAAIC,IAAI,GAAQD,CAAC,CAACE,IAAY;MAC9B,IAAIC,GAAG,GAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC;MAC1CG,MAAM,CAACG,IAAI,CAACJ,GAAG,CAAC;IACjB,CAAC,CAAC,CAAC,CACFK,SAAS,CAAC;MACPC,IAAI,EAAE,MAAK,CACX,CAAC;MACDC,KAAK,EAAEA,KAAK,IAAG;QACX;MAAA;KAEP,CAAC;EACN;;AAvBKpB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCT1BC,8BAAiB;MAELA,YAAuB;MAAAA,iBAAK;MAChCA,yBAAG;MAAAA,kDAAkC;MAAAA,iBAAI;MACzCA,yBAAG;MAAuBA,4BAAY;MAAAA,iBAAI;MAC1CA,iCAA0D;MAA1BA;QAAA,OAASC,mBAAe;MAAA,EAAC;MAACD,6BAAY;MAAAA,iBAAS;;;MAH3EA,eAAuB;MAAvBA,+EAAuB","names":["environment","map","HomeComponent","constructor","accountService","http","user","userValue","onGeneratePdf","get","apiUrl","pipe","_","blob","body","url","window","URL","createObjectURL","open","subscribe","next","error","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\DevProjects\\Training\\frontend\\src\\app\\home\\home.component.ts","C:\\DevProjects\\Training\\frontend\\src\\app\\home\\home.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Component } from '@angular/core';\r\n\r\nimport { User } from '@app/_models';\r\nimport { AccountService } from '@app/_services';\r\nimport { environment } from '@environments/environment';\r\nimport { map } from 'rxjs';\r\n\r\n@Component({ templateUrl: 'home.component.html' })\r\nexport class HomeComponent {\r\n    user: User | null;\r\n\r\n    constructor(private accountService: AccountService,\r\n        private http: HttpClient) {\r\n        this.user = this.accountService.userValue;\r\n    }\r\n\r\n    onGeneratePdf()\r\n    {\r\n        return this.http.get<any>(`${environment.apiUrl}/User/CreatePdf`)\r\n        .pipe(map(_ => {\r\n             let blob:Blob = _.body as Blob;\r\n             let url = window.URL.createObjectURL(blob);\r\n             window.open(url);\r\n            }))\r\n            .subscribe({\r\n                next: () => {             \r\n                },\r\n                error: error => {\r\n                    // this.alertService.error(error);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    ","<div class=\"p-4\">\r\n    <div class=\"container\">\r\n        <h1>Hi {{user?.FirstName}}!</h1>\r\n        <p>You're logged in with Angular 15!!</p>\r\n        <p><a routerLink=\"/users\">Manage Users</a></p>\r\n        <button class=\"btn btn-primary\" (click)=\"onGeneratePdf()\">Generate PDF</button>\r\n    </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}