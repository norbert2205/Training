{"ast":null,"code":"import { environment } from '@environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@app/_services\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nexport class HomeComponent {\n  constructor(accountService, http) {\n    this.accountService = accountService;\n    this.http = http;\n    this.user = this.accountService.userValue;\n  }\n  onGeneratePdf() {\n    return this.http.get(`${environment.apiUrl}/User/CreatePdf`, {\n      headers: {\n        \"Accept\": \"application/pdf\"\n      },\n      responseType: \"blob\"\n    })\n    // .pipe()\n    .subscribe({\n      next: _ => {\n        console.log(\"x\", _);\n        let blob = new Blob([_], {\n          type: 'application/pdf'\n        });\n        var downloadURL = window.URL.createObjectURL(_);\n        var link = document.createElement('a');\n        link.href = downloadURL;\n        link.download = \"help.pdf\";\n        link.click();\n      },\n      error: error => {\n        // this.alertService.error(error);\n      }\n    });\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i2.HttpClient));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"ng-component\"]],\n  decls: 11,\n  vars: 1,\n  consts: [[1, \"p-4\"], [1, \"container\"], [\"routerLink\", \"/users\"], [1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\");\n      i0.ɵɵtext(5, \"You're logged in with Angular 15!!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"p\")(7, \"a\", 2);\n      i0.ɵɵtext(8, \"Manage Users\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_9_listener() {\n        return ctx.onGeneratePdf();\n      });\n      i0.ɵɵtext(10, \"Generate PDF\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Hi \", ctx.user == null ? null : ctx.user.FirstName, \"!\");\n    }\n  },\n  dependencies: [i3.RouterLink],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AAKA,SAASA,WAAW,QAAQ,2BAA2B;;;;;AAIvD,OAAM,MAAOC,aAAa;EAGtBC,YAAoBC,cAA8B,EACtCC,IAAgB;IADR,mBAAc,GAAdD,cAAc;IACtB,SAAI,GAAJC,IAAI;IACZ,IAAI,CAACC,IAAI,GAAG,IAAI,CAACF,cAAc,CAACG,SAAS;EAC7C;EAEAC,aAAa;IAET,OAAO,IAAI,CAACH,IAAI,CAACI,GAAG,CAAC,GAAGR,WAAW,CAACS,MAAM,iBAAiB,EAAE;MACzDC,OAAO,EAAE;QACP,QAAQ,EAAE;OACX;MACDC,YAAY,EAAE;KACf;IACH;IAAA,CACCC,SAAS,CAAC;MACPC,IAAI,EAAEC,CAAC,IAAG;QACNC,OAAO,CAACC,GAAG,CAAC,GAAG,EAAEF,CAAC,CAAC;QACnB,IAAIG,IAAI,GAAI,IAAIC,IAAI,CAAC,CAACJ,CAAC,CAAC,EAAE;UAACK,IAAI,EAAE;QAAiB,CAAC,CAAC;QAElE,IAAIC,WAAW,GAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACT,CAAC,CAAC;QAC/C,IAAIU,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;QACtCF,IAAI,CAACG,IAAI,GAAGP,WAAW;QACvBI,IAAI,CAACI,QAAQ,GAAG,UAAU;QAC1BJ,IAAI,CAACK,KAAK,EAAE;MACF,CAAC;MACDC,KAAK,EAAEA,KAAK,IAAG;QACX;MAAA;KAEP,CAAC;EACN;;AAhCS7B,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAA8B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCT1BC,8BAAiB;MAELA,YAAuB;MAAAA,iBAAK;MAChCA,yBAAG;MAAAA,kDAAkC;MAAAA,iBAAI;MACzCA,yBAAG;MAAuBA,4BAAY;MAAAA,iBAAI;MAC1CA,iCAA0D;MAA1BA;QAAA,OAASC,mBAAe;MAAA,EAAC;MAACD,6BAAY;MAAAA,iBAAS;;;MAH3EA,eAAuB;MAAvBA,+EAAuB","names":["environment","HomeComponent","constructor","accountService","http","user","userValue","onGeneratePdf","get","apiUrl","headers","responseType","subscribe","next","_","console","log","blob","Blob","type","downloadURL","window","URL","createObjectURL","link","document","createElement","href","download","click","error","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\DevProjects\\Training\\frontend\\src\\app\\home\\home.component.ts","C:\\DevProjects\\Training\\frontend\\src\\app\\home\\home.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Component } from '@angular/core';\r\n\r\nimport { User } from '@app/_models';\r\nimport { AccountService } from '@app/_services';\r\nimport { environment } from '@environments/environment';\r\nimport { map } from 'rxjs';\r\n\r\n@Component({ templateUrl: 'home.component.html' })\r\nexport class HomeComponent {\r\n    user: User | null;\r\n\r\n    constructor(private accountService: AccountService,\r\n        private http: HttpClient) {\r\n        this.user = this.accountService.userValue;\r\n    }\r\n\r\n    onGeneratePdf()\r\n    {\r\n        return this.http.get(`${environment.apiUrl}/User/CreatePdf`, {\r\n            headers: {\r\n              \"Accept\": \"application/pdf\"\r\n            },\r\n            responseType: \"blob\" as \"json\"\r\n          })\r\n        // .pipe()\r\n        .subscribe({\r\n            next: _ => {\r\n                console.log(\"x\", _);\r\n                let blob =  new Blob([_], {type: 'application/pdf'});\r\n\r\n  var downloadURL = window.URL.createObjectURL(_);\r\n  var link = document.createElement('a');\r\n  link.href = downloadURL;\r\n  link.download = \"help.pdf\";\r\n  link.click();\r\n            },\r\n            error: error => {\r\n                // this.alertService.error(error);\r\n            }\r\n        });\r\n    }\r\n}    ","<div class=\"p-4\">\r\n    <div class=\"container\">\r\n        <h1>Hi {{user?.FirstName}}!</h1>\r\n        <p>You're logged in with Angular 15!!</p>\r\n        <p><a routerLink=\"/users\">Manage Users</a></p>\r\n        <button class=\"btn btn-primary\" (click)=\"onGeneratePdf()\">Generate PDF</button>\r\n    </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}